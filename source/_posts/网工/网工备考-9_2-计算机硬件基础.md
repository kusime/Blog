---
title: 网工备考-计算机硬件基础
subtitle: 数据储存表示,CPU组成,寻址方式,RISC
index_img: /gallery/2021-09-02-08-25-15.png
date: 2021-09-02 08:24:13
updated: 2021-09-02 08:24:13
tags:
  - 网工
categories:
  - 网工
---

# 数据表示

## 10 进制转 2 进制

- 使用短除法,把要转化的数据不断的除以二
- 然后输出每轮计算出来的余数,然后最终由下往上进行输出
  - 对应二进制数据就是从 高位到低位
- 输出出来的数据就是对应的而进制数据

![下-高位,上-低位](/gallery/2021-09-02-08-54-39.png)

## 2 进制转 10 进制

- 把二进制数据从右到左 <-- 的一个顺序
- 然后从 2^x (x 从 0 开始计算,直到二进制位数-1 为止) 这个称作权值
- 然后把对应的二进制数据对应位数上是 0 还是 1 乘以对应的权值

![权值*对应位置2进制](/gallery/2021-09-02-08-57-34.png)

## 二进制的编码形式

- 基本理解
  - 首先,固定位数二进制全部所拥有的状态个数是有限,并且固定的
  - 但是,我们可以对每个编码赋予不同的涵义,就好比我 1 这个符号我认为其是一
  - 同时,二进制对应的状态一定有一个绝对值意义,就是 2 转 10 进制的 10 进制数据(无符号数据)

![8位二进制数据例子](/gallery/2021-09-02-09-05-58.png)

## 原码.反码.补码 都是数据的表达形式,是一种定义

- 他们三个都是可以表达负数
- 并且规定,最高位为 1 的时候,这个数字为负数

### 原码

- 原码就是,最高位如果为 0 那么这个就是正数
  - 除去最高位,剩下的二进制数据就是这个正数的值
- 如果最高位置为 1 那么这个数据就是负数
  - 出去最高位,剩下的二进制数据就是这个负数的值

### 反码

- 如果原码为正数,那么反码 = 原码

- 如果原码为负数,那么反码 = 原码符号位不变,其他位置取反

**这里有个要注意的点就是.反码是对原始二进制数据的一种解释,最后解释出来的数据以对应算法翻译出来的原码为准**

- 比如

![图片描述](/gallery/2021-09-02-09-09-24.png)

这里取反后得到 `1 111 1110` , 然后在计算这个二进制的原码对应的有符号 10 进制的数据

- 那么就是 `-126`

### 补码

- 补码的算法为：绝对值的原码各位取反后加 1.

  - (所以说,希赛那边教程做的看的我是一愣一愣的...)
  - 我觉得简单点就不要区分正负数直接这里通用算法

- 比如

![图片描述](/gallery/2021-09-02-09-14-51.png)

- 负 128 的补码
  - 绝对值的 8 位原码为 10000000
  - 取反：01111111
  - 加 1 ：10000000
- 此时同样的最高位被置为 1，同样满足高位为 1 代表负数的定义,
- 同时原先表示负 0 的编码被利用起来表示-128。
- 因此一个字节的有符号整数范围为-128 到 127。

# CPU 基本功能

{% note danger %}
[参考 intel](https://software.intel.com/content/www/cn/zh/develop/articles/book-processor-architecture_cpu_function_and_composition.html)
哈哈哈什么叫专业解释哈哈哈哈
![图片描述](/gallery/2021-09-02-09-30-43.png)
{% endnote %}

CPU 的基本功能:

![图片描述](/gallery/2021-09-02-09-28-45.png)

## CPU 的基本组成

- 什么是字长
  > 在 计算机 领域，对于某种特定的计算机设计而言，字（word）是用于表示其自然的数据单位的术语，是用来表示一次性处理事务的固定长度。 一个字的位数，即 字长 ，是 计算机系统结构 中的一个重要特性。 字长在计算机结构和操作的多个方面均有体现。

![图片描述](/gallery/2021-09-02-09-32-42.png)

![图片描述](/gallery/2021-09-02-09-32-03.png)

### 控制器

![图片描述](/gallery/2021-09-02-09-33-10.png)

### 运算器

![图片描述](/gallery/2021-09-02-09-37-30.png)

## 在 CPU 中至少要有六类寄存器

> 在 CPU 中至少要有六类寄存器：指令寄存器（IR）、程序计数器（PC）、地址寄存器（AR）、数据寄存器（DR）、累加寄存器（AC）、程序状态字寄存器（PSW）。

### 1.数据寄存器（DR）

数据寄存器（Data Register，DR）主要作为 CPU 和主存、外设之间信息传输的中转站，用以弥补 CPU 和主存、外设之间操作速度上的差异。

数据寄存器用来暂时存放由主存储器读出的一条指令或一个数据字；反之，当向主存存入一个数据字时，也暂时将它们存放在数据寄存器中。

数据寄存器的作用是 ：

作为 CPU 和主存、外围设备之间信息传送的中转站；
弥补 CPU 和主存、外围设备之间在操作速度上的差别；
在单累加器结构的运算器中，数据寄存器还可兼作操作数寄存器。 2.指令寄存器

### 1.指令寄存器（Instruction Register，IR）用来保存当前正在执行的一条指令。

当执行一条指令时，先把该指令从主存读取到数据寄存器中，然后再传送至指令寄存器。

一条指令被划分为操作码和地址码 2 个字段。为了执行任何给定的指令，必须对操作码进行测试，以便识别所要求的操作。指令译码器（Instruction Decoder，ID）就是完成这项工作的。

指令译码器对来自指令寄存器的操作码部分进行译码，以产生操作性质的控制电位，并将其送到微操作控制线路上，在时序部件定时信号作用下，产生具体的操作控制信号。

指令寄存器中操作码字段的输出就是指令译码器的输入。操作码一经译码后，即可向操作控制器发出具体操作的特定信号。

### 3.程序计数器

程序计数器（Program Counter，PC）用来指出下一条指令在主存储器中的单元地址。

在程序执行之前，首先必须将程序的首地址，即程序的第一条指令所在的主存单元地址送入 PC。因此 PC 的内容即是从主存提取的第一条指令的地址。

当执行指令时，CPU 能自动递增 PC 的内容，使其始终保持将要执行的下一条指令的主存地址，为取下一条指令做好准备。若为单字长指令，则(PC)+1PC，若为双字长指令，则(PC)+2PC，以此类推。

但是，当遇到转移指令时，下一条指令的地址将由转移指令的地址码字段指定，而不是像通常那样通过顺序递增 PC 的内容来取得。

因此，程序计数器的结构应当是具有寄存信息和计数两种功能的结构。

### 4.地址寄存器

地址寄存器（Address Register，AR）用来保存 CPU 当前所访问的主存单元的地址。

由于在主存和 CPU 之间存在操作速度上的差异，所以必须使用地址寄存器来暂时保存主存的地址信息，直到主存的存取操作完成为止。

当 CPU 和主存进行信息交换，即 CPU 向主存存入/取出数据时，或者 CPU 从主存中读出指令时，都要使用地址寄存器和数据寄存器。

同样，如果我们把外围设备的设备地址作为像主存的地址单元那样来看待，那么，当 CPU 和外围设备交换信息时，我们同样要使用地址寄存器和数据寄存器。

### 5.累加寄存器

累加寄存器通常简称累加器（Accumulator，AC），是一个通用寄存器。

累加器的功能是：当运算器的算术逻辑单元(ALU)执行算术或逻辑运算时，为 ALU 提供一个工作区，可以为 ALU 暂时保存一个操作数或运算结果。

显然，运算器中至少要有一个累加寄存器。

### 6.程序状态字寄存器

程序状态字（Program Status Word，PSW）用来表征当前运算的状态及程序的工作方式。

程序状态字寄存器保存由算术指令和逻辑指令运行或测试的结果所建立起来的各种条件码内容，如运算结果进/借位标志(C)、运算结果溢出标志（O)、运算结果为零标志(Z)、运算结果为负标志(N)、运算结果符号标志（S）等，这些标志位通常分别用 1 位触发器来保存。

除此之外，程序状态字寄存器还保存中断和系统工作状态等信息，以便 CPU 和系统及时了解机器运行状态和程序运行状态。

因此，程序状态字寄存器是一个保存各种状态条件标志的寄存器。

# 简述 risc 和 cisc

{% note danger %}
[参考 CSDN](https://blog.csdn.net/gongxsh00/article/details/81048671)
[参考知乎](https://zhuanlan.zhihu.com/p/346864380)
{% endnote %}

## 是什么

> CISC 的英文全称为“Complex InstrucTIon Set Computer”，即“复杂指令系统计算机”，从计算机诞生以来，人们一直沿用 CISC 指令集方式。早期的桌面软件是按 CISC 设计的，并一直沿续到现在。目前，桌面计算机流行的 x86 体系结构即使用 CISC。微处理器（CPU）厂商一直在走 CISC 的发展道路，包括 Intel、AMD，还有其他一些现在已经更名的厂商，如 TI（德州仪器）、IBM 以及 VIA（威盛）等。在 CISC 微处理器中，程序的各条指令是按顺序串行执行的，每条指令中的各个操作也是按顺序串行执行的。顺序执行的优点是控制简单，但计算机各部分的利用率不高，执行速度慢。CISC 架构的服务器主要以 IA-32 架构（Intel Architecture，英特尔架构）为主，而且多数为中低档服务器所采用。

---

> RISC 的英文全称为“Reduced InstrucTIon Set Computer”，即“精简指令集计算机”，是一种执行较少类型计算机指令的微处理器，起源于 80 年代的 MIPS 主机（即 RISC 机），RISC 机中采用的微处理器统称 RISC 处理器。这样一来，它能够以更快的速度执行操作（每秒执行更多百万条指令，即 MIPS）。因为计算机执行每个指令类型都需要额外的晶体管和电路元件，计算机指令集越大就会使微处理器更复杂，执行操作也会更慢。

## 区别

### 1、指令系统

CISC

计算机的指令系统比较丰富，有专用指令来完成特定的功能。因此，处理特殊任务效率较高。

RISC

设计者把主要精力放在那些经常使用的指令上，尽量使它们具有简单高效的特色。对不常用的功能，常通过组合指令来完成。因此，在 RISC 机器上实现特殊功能时，效率可能较低。但可以利用流水技术和超标量技术加以改进和弥补。

### 2、存储器操作

CISC

机器的存储器操作指令多，操作直接。

RISC

对存储器操作有限制，使控制简单化。

### 3、程序

CISC

汇编语言程序编程相对简单，科学计算及复杂操作的程序社设计相对容易，效率较高。

RISC

汇编语言程序一般需要较大的内存空间，实现特殊功能时程序复杂，不易设计。

### 4、中断

CISC

机器是在一条指令执行结束后响应中断。

RISC

机器在一条指令执行的适当地方可以响应中断。

### 5、CPU

CISC

CPU 包含有丰富的电路单元，因而功能强、面积大、功耗大。

RISC

CPU 包含有较少的单元电路，因而面积小、功耗低。

### 6、设计周期

CISC

微处理器结构复杂，设计周期长。

RISC

微处理器结构简单，布局紧凑，设计周期短，且易于采用最新技术。

### 7、用户使用

CISC

微处理器结构复杂，功能强大，实现特殊功能容易。

RISC

微处理器结构简单，指令规整，性能容易把握，易学易用。

### 8、应用范围

CISC

机器则更适合于通用机。

RISC

由于 RISC 指令系统的确定与特定的应用领域有关，故 RISC 机器更适合于专用机。

# SISD、MIMD、SIMD、MISD

https://zhuanlan.zhihu.com/p/27696267

## SISD

![图片描述](/gallery/2021-09-02-09-58-19.png)

## MIMD

![图片描述](/gallery/2021-09-02-09-58-35.png)

## 多指令流单数据流机器（MISD）

![图片描述](/gallery/2021-09-02-09-58-54.png)

## 多指令流多数据流机器（MIMD）

![图片描述](/gallery/2021-09-02-09-59-17.png)

# 软考之 CPU 的寻址方式

https://www.cnblogs.com/lcchuguo/p/5069479.html

## 1、马上寻址：

地址码就是操作数，这样的寻址方式不必再次訪问主存去取操作数，当然也无须改动操作数（这样的方式获得操作数的速度最快）

## 2、直接寻址：

指令的地址码就是操作数在主存内的地址，也就是说地址码就是主存内数据的绝对地址，不必做不论什么换算（也就是操作数的地址直接包括在指令中，仅仅要依照指令中的地址去找就能够了），但这样的地址方式的不足之处在于寻址范围有限。

## 3、间接寻址：

在指令的地址码部分直接给出的既不是操作数（直接给出操作数的是马上寻址），也不是操作数的地址（直接给出操作数地址的是直接寻址），而是操作数的地址的地址。

这样的方式提高了寻址的灵活性。扩大了寻址的范围。可是因为多次訪问主存。速度大为减少。

## 4、寄存器寻址：

地址码的地址是寄存器的地址，和内存地址而言。訪问寄存器的速度是很快的，所以使用寄存器寻址有很快的速度。不足之处在于寄存器的数量有限。

## 5、寄存器间接寻址：

地址码保存的是寄存器的地址，相相应的寄存器中保存的是操作数在主存中的地址。这样既快又有灵活性，是一种广泛使用的寻址方式。

## 6、基址寻址：

採用专用寄存器或通用寄存器作为基址寄存器，主要作用是扩大寻址空间和再定位。

## 7、变址寻址：

是将地址码和变址寄存器内容相加后形成的数据地址，对数组运算、字符串操作等批量数据的处理很有效。

## 8、页面寻址：

页面寻址要将主存分组成若干个区。寻址时使用区码加区内偏移的方式确定位置。

## 9、相对寻址：

相对寻址和变址寻址类似，这里变址寄存器变成了程序计数器，也就是在相对寻址中是将地址码和程序计数器内容相加后形成的数据地址。

# CPU 流水线

## 通俗理解

![图片描述](/gallery/2021-09-02-10-18-09.png)

### 什么是并行？

![图片描述](/gallery/2021-09-02-10-19-04.png)

#### 时间并行

![图片描述](/gallery/2021-09-02-10-19-55.png)

#### 空间并行

![图片描述](/gallery/2021-09-02-10-21-02.png)

## 流水 CPU 基本结构

![图片描述](/gallery/2021-09-02-10-28-27.png)

![图片描述](/gallery/2021-09-02-10-29-02.png)

![图片描述](/gallery/2021-09-02-10-29-30.png)

![图片描述](/gallery/2021-09-02-10-29-50.png)

![图片描述](/gallery/2021-09-02-10-30-08.png)

## 相关计算题

- 流水线周期
  - 执行时间最长的一段
  - 下面的话流水线周期就是 2t

![图片描述](/gallery/2021-09-02-10-32-58.png)

- 所以对流水线周期的理解局势每 xt 的时间就可以完成一条指令

![图片描述](/gallery/2021-09-02-10-36-52.png)

- 完成n条指令的总时间

![图片描述](/gallery/2021-09-02-10-38-26.png)

- 上面的t1t2t3就是流水线建立时间
    - 然后t1就是流水线周期，为各个部分的最长时间

### 流水线技术指标


![图片描述](/gallery/2021-09-02-10-41-37.png)
ee
- 吞吐率
    - 采用流水线技术之后，完成 n 条指令完成的时间之比
    - 单位时间。流水线完成指令的数量


- 加速比ee
    - 不采用流水线的时间 比上 采用流水线的时间

- 效率