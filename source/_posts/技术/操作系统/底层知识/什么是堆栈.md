---
date: 2021-04-13 18:11:58
updated: 2021-04-13 18:11:58
title: 什么是堆栈
index_img: /gallery/2021-08-23-20-13-43.png

tags:
  - System

categories:
  - System

---

# 什么是堆栈

- 堆栈是一种数据结构,堆栈都是一种数据项按序排列的数据结构，只能在一端(称为栈顶(top))对数据项进行插入和删除
- 在单片机应用中，堆栈是个特殊的存储区，主要功能是暂时存放数据和地址，通常用来保护断点和现场。

## 简介

- 堆栈是一个特定的存储区或寄存器，它的一端是固定的，另一端是浮动的
- 堆这个存储区存入的数据，是一种特殊的数据结构。所有的数据存入或取出，只能在浮动的一端（称栈顶）进行
- 严格按照“先进后出”的原则存取，位于其中间的元素，必须在其栈上部（后进栈者）诸元素逐个移出后才能取出
- 在内存储器（随机存储器）中开辟一个区域作为堆栈，叫**软件堆栈**；用寄存器构成的堆栈，叫**硬件堆栈**。

## 对比分析

- 堆栈空间分配
  - 栈（操作系统）：由操作系统自动分配释放 ，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。
  - 堆（操作系统）： 一般由程序员分配释放， 若程序员不释放，程序结束时可能由 OS（操作系统）回收，分配方式倒是类似于链表。
- 堆栈缓存方式
  - 栈使用的是一级缓存， 他们通常都是被调用时处于存储空间中，调用完毕立即释放
  - 堆则是存放在二级缓存中，生命周期由虚拟机的垃圾回收算法来决定（并不是一旦成为孤儿对象就能被回收）。所以调用这些对象的速度要相对来得低一些。
- 堆栈数据结构区别
  - 堆（数据结构）：堆可以被看成是一棵树，如：堆排序。
  - 栈（数据结构）：一种先进后出的数据结构。

## 堆和栈的区别

- （1）程序内存布局场景下，堆与栈表示两种内存管理方式；
- （2）数据结构场景下，堆与栈表示两种常用的数据结构
- 首先在数据结构上要知道堆栈，尽管我们这么称呼它，但实际上堆栈是两种数据结构：堆和栈。
  - 堆和栈都是一种数据项按序排列的数据结构。
- 栈就像装数据的桶或箱子
  - 是一种具有后进先出性质的数据结构，也就是说后存放的先取，先存放的后取。
  - 要取出放在箱子里面底下的东西（放入的比较早的物体），我们首先要移开压在它上面的物体（放入的比较晚的物体）。
- 堆像一棵倒过来的树
  - 而堆就不同了，堆是一种**经过排序的树形数据结构**，每个结点都有一个值。
  - 通常我们所说的堆的数据结构，是指二叉堆。
  - 堆的特点是**根结点的值最小（或最大）**，且根结点的两个子树也是一个堆。
  - 堆的**存取是随意**，这就如同我们在图书馆的书架上取书，**虽然**书的摆放是有顺序的
  - 由于堆的这个特性，**常用来实现优先队列**
